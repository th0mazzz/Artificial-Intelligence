#!/usr/bin/python3

import sys

alphabet = {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'}

def function(inputted, output):
    wordlist = open('dictall.txt', 'rU')
    set_of_words = set(wordlist.read().split('\n'))

    inputfile = open(inputted, 'rU')
    inputwords = inputfile.read().split('\n')

    if inputwords[len(inputwords) - 1]  == '' and len(inputwords) > 0:
        inputwords.remove('')
    
    wordlength = len(inputwords[0])

    neighborsDict = {}
    
    for word in set_of_words:
        if len(word) == wordlength:
            index = 0

            # if word == 'head':
            #    print word
            
            #print('----' + word)
            neighbors = set()
            while index < wordlength:
                
                for each in alphabet:
                    new_word = word[:index] + each + word[index+1: wordlength]
                    if new_word in set_of_words:
                        neighbors.add(new_word)

                    # if word == 'head':
                    #     print(new_word)
                    #     print(neighbors)
                    
                index = index + 1

            if word in neighbors:
                neighbors.remove(word)
                
            neighbors = list(neighbors)
    
            neighborsDict[word] = neighbors


    writeinfo = ''
    for each in inputwords:
        writeinfo = writeinfo + each + ',' + str(len(neighborsDict[each])) + '\n'
            
            
    outputfile = open(output, 'w')
    outputfile.write(writeinfo)

function(sys.argv[1], sys.argv[2])
